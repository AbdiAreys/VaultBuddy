(this["webpackJsonpvaultbuddy-frontend"]=this["webpackJsonpvaultbuddy-frontend"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),r=s(3),n=s.n(r),l=(s(12),s(13),s(14),s(0));var o=e=>{let{onAddSecret:t,onRefresh:s,loading:c}=e;return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"header-content",children:[Object(l.jsx)("div",{className:"header-left",children:Object(l.jsxs)("div",{className:"logo",children:[Object(l.jsx)("div",{className:"logo-icon",children:"\ud83d\udd10"}),Object(l.jsxs)("div",{className:"logo-text",children:[Object(l.jsx)("h1",{children:"VAULTBUDDY"}),Object(l.jsx)("span",{className:"logo-subtitle",children:"Secure Vault Access"})]})]})}),Object(l.jsxs)("div",{className:"header-right",children:[Object(l.jsx)("button",{className:"btn-secondary",onClick:s,disabled:c,children:c?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"loading-spinner"}),"Loading..."]}):"\u21bb Refresh"}),Object(l.jsx)("button",{className:"btn-primary",onClick:t,children:"+ Add Secret"})]})]}),Object(l.jsxs)("div",{className:"header-status",children:[Object(l.jsxs)("div",{className:"status-indicator",children:[Object(l.jsx)("span",{className:"status-dot"}),Object(l.jsx)("span",{children:"System: Online"})]}),Object(l.jsxs)("div",{className:"status-indicator",children:[Object(l.jsx)("span",{className:"status-dot"}),Object(l.jsx)("span",{children:"Encryption: Active"})]})]})]})};s(16);var i=e=>{let{secret:t,onDelete:s,onCopy:a}=e;const[r,n]=Object(c.useState)(!1),[o,i]=Object(c.useState)(!1);return Object(l.jsxs)("div",{className:"secret-card ".concat(o?"hovered":""),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[Object(l.jsxs)("div",{className:"secret-header",children:[Object(l.jsx)("div",{className:"secret-icon",children:"\ud83d\udd11"}),Object(l.jsxs)("div",{className:"secret-info",children:[Object(l.jsx)("h3",{className:"secret-name",children:t.name}),Object(l.jsxs)("span",{className:"secret-date",children:["Modified: ",(d=t.lastModified,d?d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown")]})]}),Object(l.jsx)("div",{className:"secret-status",children:Object(l.jsx)("span",{className:"status-indicator",children:"Secure"})})]}),Object(l.jsxs)("div",{className:"secret-actions",children:[Object(l.jsx)("button",{className:"btn-secondary small",onClick:()=>{a(t.name)},title:"Copy to clipboard",children:"\ud83d\udccb Copy"}),r?Object(l.jsxs)("div",{className:"confirm-delete",children:[Object(l.jsx)("button",{className:"btn-danger small",onClick:()=>{s(t.name),n(!1)},title:"Confirm deletion",children:"\u2713 Confirm"}),Object(l.jsx)("button",{className:"btn-secondary small",onClick:()=>n(!1),title:"Cancel deletion",children:"\u2717 Cancel"})]}):Object(l.jsx)("button",{className:"btn-danger small",onClick:()=>n(!0),title:"Delete secret",children:"\ud83d\uddd1\ufe0f Delete"})]}),Object(l.jsx)("div",{className:"secret-footer",children:Object(l.jsxs)("div",{className:"security-indicators",children:[Object(l.jsx)("span",{className:"indicator",children:"Encrypted"}),Object(l.jsx)("span",{className:"indicator",children:"OS Keyring"})]})})]});var d};s(17);var d=e=>{let{secrets:t,loading:s,onDeleteSecret:a,onCopySecret:r}=e;const[n,o]=Object(c.useState)(""),[d,j]=Object(c.useState)("name"),m=t.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())).sort((e,t)=>{var s,c;return"name"===d?e.name.localeCompare(t.name):((null===(s=t.lastModified)||void 0===s?void 0:s.getTime())||0)-((null===(c=e.lastModified)||void 0===c?void 0:c.getTime())||0)});return s?Object(l.jsx)("div",{className:"vault-dashboard loading",children:Object(l.jsxs)("div",{className:"loading-container",children:[Object(l.jsx)("div",{className:"loading-spinner large"}),Object(l.jsx)("h2",{children:"Accessing Vault..."}),Object(l.jsx)("p",{children:"Decrypting secure storage"})]})}):Object(l.jsxs)("div",{className:"vault-dashboard",children:[Object(l.jsxs)("div",{className:"dashboard-header",children:[Object(l.jsx)("h2",{children:"Secure Vault"}),Object(l.jsxs)("div",{className:"dashboard-stats",children:[Object(l.jsxs)("div",{className:"stat-item",children:[Object(l.jsx)("span",{className:"stat-label",children:"Secrets"}),Object(l.jsx)("span",{className:"stat-value",children:t.length})]}),Object(l.jsxs)("div",{className:"stat-item",children:[Object(l.jsx)("span",{className:"stat-label",children:"Status"}),Object(l.jsx)("span",{className:"stat-value",children:"Online"})]})]})]}),Object(l.jsxs)("div",{className:"dashboard-controls",children:[Object(l.jsx)("div",{className:"search-container",children:Object(l.jsx)("input",{type:"search",placeholder:"Search...",value:n,onChange:e=>o(e.target.value),className:"search-input"})}),Object(l.jsxs)("div",{className:"sort-container",children:[Object(l.jsx)("label",{className:"sort-label",children:"Sort:"}),Object(l.jsxs)("select",{value:d,onChange:e=>j(e.target.value),className:"sort-select",children:[Object(l.jsx)("option",{value:"name",children:"Name"}),Object(l.jsx)("option",{value:"date",children:"Modified"})]})]})]}),Object(l.jsx)("div",{className:"secrets-container",children:0===m.length?Object(l.jsxs)("div",{className:"empty-state",children:[Object(l.jsx)("div",{className:"empty-icon",children:"\ud83d\udd12"}),Object(l.jsx)("h3",{children:"No Secrets Found"}),Object(l.jsx)("p",{children:n?"No secrets match your search.":"Vault is empty. Add a secret to get started."})]}):Object(l.jsx)("div",{className:"secrets-grid",children:m.map(e=>Object(l.jsx)(i,{secret:e,onDelete:a,onCopy:r},e.name))})})]})};s(18);var j=e=>{let{onClose:t,onAddSecret:s}=e;const[a,r]=Object(c.useState)(""),[n,o]=Object(c.useState)(""),[i,d]=Object(c.useState)(""),[j,m]=Object(c.useState)(!1),[h,u]=Object(c.useState)({});Object(c.useEffect)(()=>{const e=document.getElementById("secret-name");e&&e.focus()},[]);const b=()=>{r(""),o(""),d(""),u({}),t()};return Object(l.jsx)("div",{className:"modal-overlay",onClick:b,children:Object(l.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("h2",{children:"Add New Secret"}),Object(l.jsx)("button",{className:"close-button",onClick:b,children:"\u2715"})]}),Object(l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return a.trim()?a.length>100?e.name="Secret name must be 100 characters or less":/^[a-zA-Z0-9_-]+$/.test(a)||(e.name="Secret name can only contain letters, numbers, hyphens, and underscores"):e.name="Secret name is required",n||(e.value="Secret value is required"),n!==i&&(e.confirmValue="Secret values do not match"),u(e),0===Object.keys(e).length})()&&s(a.trim(),n)},className:"secret-form",children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"secret-name",className:"form-label",children:"Secret Name"}),Object(l.jsx)("input",{id:"secret-name",type:"text",value:a,onChange:e=>r(e.target.value),className:"form-input ".concat(h.name?"error":""),placeholder:"Enter secret name (e.g., github_token)",autoComplete:"off"}),h.name&&Object(l.jsx)("span",{className:"error-message",children:h.name})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"secret-value",className:"form-label",children:"Secret Value"}),Object(l.jsxs)("div",{className:"password-input-container",children:[Object(l.jsx)("input",{id:"secret-value",type:j?"text":"password",value:n,onChange:e=>o(e.target.value),className:"form-input ".concat(h.value?"error":""),placeholder:"Enter secret value",autoComplete:"new-password"}),Object(l.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>m(!j),title:j?"Hide password":"Show password",children:j?"\ud83d\udc41\ufe0f":"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f"})]}),h.value&&Object(l.jsx)("span",{className:"error-message",children:h.value})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"confirm-value",className:"form-label",children:"Confirm Value"}),Object(l.jsx)("input",{id:"confirm-value",type:"password",value:i,onChange:e=>d(e.target.value),className:"form-input ".concat(h.confirmValue?"error":""),placeholder:"Confirm secret value",autoComplete:"new-password"}),h.confirmValue&&Object(l.jsx)("span",{className:"error-message",children:h.confirmValue})]}),Object(l.jsxs)("div",{className:"form-actions",children:[Object(l.jsx)("button",{type:"button",className:"btn-secondary",onClick:b,children:"Cancel"}),Object(l.jsx)("button",{type:"submit",className:"btn-primary",children:"Store Secret"})]})]}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsxs)("div",{className:"security-notice",children:[Object(l.jsx)("span",{className:"security-icon",children:"\ud83d\udd12"}),Object(l.jsx)("span",{children:"Secret will be encrypted using OS keyring"})]})})]})})};const m=new class{async executePythonCommand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{return this.simulatePythonCall(e,t)}catch(s){throw new Error("Failed to execute command: ".concat(s instanceof Error?s.message:"Unknown error"))}}simulatePythonCall(e,t){const s=JSON.parse(localStorage.getItem("vaultbuddy_secrets")||"{}");switch(e){case"list":const c=Object.keys(s).map(e=>({name:e,lastModified:(new Date).toISOString()}));return JSON.stringify(c);case"store":if(t.length<2)throw new Error("Missing secret name or value");const[a,r]=t;if(!a.trim())throw new Error("Secret name cannot be empty");if(!r)throw new Error("Secret value cannot be empty");if(a.length>100)throw new Error("Secret name too long");if(!/^[a-zA-Z0-9_-]+$/.test(a))throw new Error("Secret name contains invalid characters");return s[a]=r,localStorage.setItem("vaultbuddy_secrets",JSON.stringify(s)),"Secret stored successfully";case"get":if(t.length<1)throw new Error("Missing secret name");const n=s[t[0]];if(!n)throw new Error("Secret '".concat(t[0],"' not found"));return n;case"delete":if(t.length<1)throw new Error("Missing secret name");if(!(t[0]in s))throw new Error("Secret '".concat(t[0],"' not found"));return delete s[t[0]],localStorage.setItem("vaultbuddy_secrets",JSON.stringify(s)),"Secret deleted successfully";default:throw new Error("Unknown command: ".concat(e))}}async listSecrets(){try{const e=await this.executePythonCommand("list");return JSON.parse(e).map(e=>({name:e.name,lastModified:new Date(e.lastModified)}))}catch(e){throw new Error("Failed to list secrets: ".concat(e instanceof Error?e.message:"Unknown error"))}}async storeSecret(e,t){try{await this.executePythonCommand("store",[e,t])}catch(s){throw new Error("Failed to store secret: ".concat(s instanceof Error?s.message:"Unknown error"))}}async getSecret(e){try{return await this.executePythonCommand("get",[e])}catch(t){throw new Error("Failed to get secret: ".concat(t instanceof Error?t.message:"Unknown error"))}}async deleteSecret(e){try{await this.executePythonCommand("delete",[e])}catch(t){throw new Error("Failed to delete secret: ".concat(t instanceof Error?t.message:"Unknown error"))}}async copySecret(e){try{const t=await this.getSecret(e);await navigator.clipboard.writeText(t)}catch(t){throw new Error("Failed to copy secret: ".concat(t instanceof Error?t.message:"Unknown error"))}}};const h=new class{async listSecrets(){return m.listSecrets()}async storeSecret(e,t){return m.storeSecret(e,t)}async getSecret(e){return m.getSecret(e)}async deleteSecret(e){return m.deleteSecret(e)}async copySecret(e){return m.copySecret(e)}};var u=function(){const[e,t]=Object(c.useState)([]),[s,a]=Object(c.useState)(!0),[r,n]=Object(c.useState)(null),[i,m]=Object(c.useState)(!1),[u,b]=Object(c.useState)(null);Object(c.useEffect)(()=>{O()},[]);const O=async()=>{try{a(!0),n(null);const e=await h.listSecrets();t(e)}catch(e){n(e instanceof Error?e.message:"Failed to load secrets")}finally{a(!1)}};return Object(c.useEffect)(()=>{if(u){const e=setTimeout(()=>b(null),3e3);return()=>clearTimeout(e)}},[u]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{onAddSecret:()=>m(!0),onRefresh:O,loading:s}),Object(l.jsxs)("main",{className:"main-content",children:[r&&Object(l.jsx)("div",{className:"error-message",children:Object(l.jsx)("span",{className:"text-error",children:r})}),u&&Object(l.jsx)("div",{className:"status-message",children:Object(l.jsx)("span",{className:"text-success",children:u})}),Object(l.jsx)(d,{secrets:e,loading:s,onDeleteSecret:async e=>{try{await h.deleteSecret(e),b("\u2705 Secret '".concat(e,"' deleted successfully")),await O()}catch(t){n(t instanceof Error?t.message:"Failed to delete secret")}},onCopySecret:async e=>{try{await h.copySecret(e),b("\ud83d\udccb Secret '".concat(e,"' copied to clipboard"))}catch(t){n(t instanceof Error?t.message:"Failed to copy secret")}}})]}),i&&Object(l.jsx)(j,{onClose:()=>m(!1),onAddSecret:async(e,t)=>{try{await h.storeSecret(e,t),b("\u2705 Secret '".concat(e,"' stored successfully")),await O(),m(!1)}catch(s){n(s instanceof Error?s.message:"Failed to store secret")}}})]})};n.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(u,{})}))}],[[19,1,2]]]);
//# sourceMappingURL=main.65fcd524.chunk.js.map